<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>Mondrian</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript">
(function() {document.write('<scr' + 'ipt type="text/javascript" src="MathJax/MathJax.js?config=default"></scr' + 'ipt>');})();
</script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="file:///usr/share/racket/doc/local-redirect/local-redirect.js"></script><script type="text/javascript" src="file:///home/runner/.local/share/racket/8.4/doc/local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">Mondrian</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._.Overview%29" class="tocviewlink" data-pltdoc="x">Overview</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#%28part._.Creating_tables%29" class="tocviewlink" data-pltdoc="x">Creating tables</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="#%28part._.Formatting_tables%29" class="tocviewlink" data-pltdoc="x">Formatting tables</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="#%28part._.Theory%29" class="tocviewlink" data-pltdoc="x">Theory</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._top%29" class="tocsubseclink" data-pltdoc="x">Mondrian</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.Overview%29" class="tocsubseclink" data-pltdoc="x">Overview</a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._.Creating_tables%29" class="tocsubseclink" data-pltdoc="x">Creating tables</a></td></tr><tr><td><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._.Table~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">Table?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._table-cell%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">table-<wbr></wbr>cell</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._table-row%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">table-<wbr></wbr>row</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._table-col%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">table-<wbr></wbr>col</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._table-rowwise-bind%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">table-<wbr></wbr>rowwise-<wbr></wbr>bind</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._table-colwise-bind%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">table-<wbr></wbr>colwise-<wbr></wbr>bind</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3<tt>&nbsp;</tt></span><a href="#%28part._.Formatting_tables%29" class="tocsubseclink" data-pltdoc="x">Formatting tables</a></td></tr><tr><td><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._table-format%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">table-<wbr></wbr>format</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._table-pretty-print%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">table-<wbr></wbr>pretty-<wbr></wbr>print</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._make-standard-rule-maker%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>standard-<wbr></wbr>rule-<wbr></wbr>maker</span></span></a></td></tr><tr><td><span class="tocsublinknumber">4<tt>&nbsp;</tt></span><a href="#%28part._.Theory%29" class="tocsubseclink" data-pltdoc="x">Theory</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.4</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.4&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.4&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.4&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div><h2 x-source-module="(lib &quot;mondrian/scribblings/mondrian.scrbl&quot;)" x-source-pkg="mondrian" x-part-tag="&quot;top&quot;"><a name="(part._top)"></a><a name="(part._.Mondrian)"></a><a name="(mod-path._mondrian)"></a>Mondrian</h2><div class="SAuthorListBox"><span class="SAuthorList"><p class="author">James Geddes &lt;<a href="mailto:jgeddes@turing.ac.uk">jgeddes@turing.ac.uk</a>&gt;</p></span></div><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.4/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.4" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="" class="RktModLink" data-pltdoc="x"><span class="RktSym">mondrian</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/mondrian" title="Install this package using `raco pkg install mondrian`"><span class="stt">mondrian</span></a></span></td></tr></table></p><p>Mondrian makes nicely formatted, textual tables.</p><h3 x-source-module="(lib &quot;mondrian/scribblings/mondrian.scrbl&quot;)" x-source-pkg="mondrian" x-part-tag="&quot;Overview&quot;">1<tt>&nbsp;</tt><a name="(part._.Overview)"></a>Overview</h3><p>Tables in mondrian are rectangular grids of rows and columns. The columns (and
rows) may be grouped so that the whole set of columns (or rows) has a tree
structure. Individual cells of the table may span several rows or columns.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.4/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._displayln%2529%2529&amp;version=8.4" class="RktValLink Sq" data-pltdoc="x">displayln</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._table-pretty-print%29%29" class="RktValLink" data-pltdoc="x">table-pretty-print</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._table-col%29%29" class="RktValLink" data-pltdoc="x">table-col</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._table-row%29%29" class="RktValLink" data-pltdoc="x">table-row</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"a"</span><span class="hspace">&nbsp;</span><span class="RktVal">"b"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._table-row%29%29" class="RktValLink" data-pltdoc="x">table-row</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"c"</span><span class="hspace">&nbsp;</span><span class="RktVal">"d"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktOut">a|b</span></p></td></tr><tr><td><p><span class="RktOut">-|-</span></p></td></tr><tr><td><p><span class="RktOut">c|d</span></p></td></tr><tr><td><p><span class="RktOut"></span></p></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.4/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._displayln%2529%2529&amp;version=8.4" class="RktValLink Sq" data-pltdoc="x">displayln</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._table-pretty-print%29%29" class="RktValLink" data-pltdoc="x">table-pretty-print</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._table-col%29%29" class="RktValLink" data-pltdoc="x">table-col</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._table-row%29%29" class="RktValLink" data-pltdoc="x">table-row</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"X"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._table-row%29%29" class="RktValLink" data-pltdoc="x">table-row</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._table-cell%29%29" class="RktValLink" data-pltdoc="x">table-cell</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"A"</span><span class="hspace">&nbsp;</span><span class="RktPn">#:align</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">right</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._table-cell%29%29" class="RktValLink" data-pltdoc="x">table-cell</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"B"</span><span class="hspace">&nbsp;</span><span class="RktPn">#:align</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">right</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._table-row%29%29" class="RktValLink" data-pltdoc="x">table-row</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"Y"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._table-col%29%29" class="RktValLink" data-pltdoc="x">table-col</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._table-row%29%29" class="RktValLink" data-pltdoc="x">table-row</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._table-row%29%29" class="RktValLink" data-pltdoc="x">table-row</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"a"</span><span class="hspace">&nbsp;</span><span class="RktVal">"b"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._table-row%29%29" class="RktValLink" data-pltdoc="x">table-row</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"c"</span><span class="hspace">&nbsp;</span><span class="RktVal">"d"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._table-row%29%29" class="RktValLink" data-pltdoc="x">table-row</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._table-row%29%29" class="RktValLink" data-pltdoc="x">table-row</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"e"</span><span class="hspace">&nbsp;</span><span class="RktVal">"f"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"G"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">#:rule-maker</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._make-standard-rule-maker%29%29" class="RktValLink" data-pltdoc="x">make-standard-rule-maker</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"-"</span><span class="hspace">&nbsp;</span><span class="RktVal">"|:"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktOut">X| A: B</span></p></td></tr><tr><td><p><span class="RktOut">-|-----</span></p></td></tr><tr><td><p><span class="RktOut">Y|ab:cd</span></p></td></tr><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;</span><span class="RktOut">|ef:G </span></p></td></tr><tr><td><p><span class="RktOut"></span></p></td></tr></table></td></tr></table></blockquote></div></p><p>Mondrian can often tell which cells span multiple rows and columns. In the
example above, the cells marked &lsquo;A&rsquo; and &lsquo;B&rsquo; span two columns each, and the cell
marked &lsquo;Y&rsquo; spans two rows, even though these cells were not explicitly
constructed as spanning cells. In addition, the cell marked &lsquo;G&rsquo; also spans two
columns even though it is not a traditional &lsquo;column header.&rsquo;</p><h3 x-source-module="(lib &quot;mondrian/scribblings/mondrian.scrbl&quot;)" x-source-pkg="mondrian" x-part-tag="&quot;Creating_tables&quot;">2<tt>&nbsp;</tt><a name="(part._.Creating_tables)"></a>Creating tables</h3><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._mondrian/main..rkt)._.Table~3f))"></a><span title="Provided from: mondrian | Package: mondrian"><span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._.Table~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">Table?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Predicate to recognise tables.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._mondrian/main..rkt)._table-cell))"></a><span title="Provided from: mondrian | Package: mondrian"><span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._table-cell%29%29" class="RktValDef RktValLink" data-pltdoc="x">table-cell</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">v</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:rowspan</span><span class="hspace">&nbsp;</span><span class="RktVar">rowspan</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:colspan</span><span class="hspace">&nbsp;</span><span class="RktVar">colspan</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:align</span><span class="hspace">&nbsp;</span><span class="RktVar">alignment</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:fill-char</span><span class="hspace">&nbsp;</span><span class="RktVar">fill-char</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:pad?</span><span class="hspace">&nbsp;</span><span class="RktVar">pad?</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:show-trim?</span><span class="hspace">&nbsp;</span><span class="RktVar">show-trim?</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._.Table~3f%29%29" class="RktValLink" data-pltdoc="x">Table?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.4" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">rowspan</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.4/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-nonnegative-integer%7E3f%2529%2529&amp;version=8.4" class="RktValLink Sq" data-pltdoc="x">exact-nonnegative-integer?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">0</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">colspan</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.4/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-nonnegative-integer%7E3f%2529%2529&amp;version=8.4" class="RktValLink Sq" data-pltdoc="x">exact-nonnegative-integer?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">0</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">alignment</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">left</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">right</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">centre</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">left</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">fill-char</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.4/doc/local-redirect/index.html?doc=reference&amp;rel=characters.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._char%7E3f%2529%2529&amp;version=8.4" class="RktValLink Sq" data-pltdoc="x">char?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#\space</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">pad?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">show-trim?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></blockquote></div><div class="SIntrapara">Create a table consisting of a single cell, whose content is a string,
<span class="RktVar">v</span>.</div></p><p>A non-zero <span class="RktVar">rowspan</span> (or <span class="RktVar">colspan</span>) will ensure that the cell
spans that many lower-level rows (or columns) when it is combined into a larger
table.</p><p>A cell may end up formatted to a width that is wider or narrower than the
natural width of its content. When that happens, <span class="RktVar">alignment</span> controls the
justification. If the width is wider than the natural width the cell is filled
with <span class="RktVar">fill-char</span>; if the width is narrower than the natural width it is
truncated unless <span class="RktVar">show-trim?</span> is <span class="RktVal">#t</span>, in which case some of the
content is replaced with periods. (However, periods will not replace more than
half the number of characters.)</p><p>If <span class="RktVar">pad?</span> is <span class="RktVal">#t</span>, an additional space is added on the non-justified
side (or both sides if <span class="RktVar">alignment</span> is <span class="RktVal">'</span><span class="RktVal">centre</span>).</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._mondrian/main..rkt)._table-row))"></a><span title="Provided from: mondrian | Package: mondrian"><span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._table-row%29%29" class="RktValDef RktValLink" data-pltdoc="x">table-row</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">cell</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._.Table~3f%29%29" class="RktValLink" data-pltdoc="x">Table?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">cell</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._.Table~3f%29%29" class="RktValLink" data-pltdoc="x">Table?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.4" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Join multiple tables together to make a single row. As a convenience, if any
<span class="RktVar">cell</span> is a string, it is converted to a <span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._.Table~3f%29%29" class="RktValLink" data-pltdoc="x">Table?</a></span> using
<span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._table-cell%29%29" class="RktValLink" data-pltdoc="x">table-cell</a></span> with the default arguments.</div></p><p>The individual cells must be <a href="#%28tech._coherent%29" class="techoutside" data-pltdoc="x"><span class="techinside">coherent</span></a> tables.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._mondrian/main..rkt)._table-col))"></a><span title="Provided from: mondrian | Package: mondrian"><span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._table-col%29%29" class="RktValDef RktValLink" data-pltdoc="x">table-col</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">cell</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._.Table~3f%29%29" class="RktValLink" data-pltdoc="x">Table?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">cell</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._.Table~3f%29%29" class="RktValLink" data-pltdoc="x">Table?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.4" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara"> Join multiple
tables together to make a single column. As a convenience, if any <span class="RktVar">cell</span>
is a string, it is converted to a <span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._.Table~3f%29%29" class="RktValLink" data-pltdoc="x">Table?</a></span> using <span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._table-cell%29%29" class="RktValLink" data-pltdoc="x">table-cell</a></span> with
the default arguments.</div></p><p>The individual cells must be <a href="#%28tech._coherent%29" class="techoutside" data-pltdoc="x"><span class="techinside">coherent</span></a> tables.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._mondrian/main..rkt)._table-rowwise-bind))"></a><span title="Provided from: mondrian | Package: mondrian"><span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._table-rowwise-bind%29%29" class="RktValDef RktValLink" data-pltdoc="x">table-rowwise-bind</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">cells</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._.Table~3f%29%29" class="RktValLink" data-pltdoc="x">Table?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">cells</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._.Table~3f%29%29" class="RktValLink" data-pltdoc="x">Table?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Combine the tables in <span class="RktVar">cells</span>, which must be <a href="#%28tech._coherent%29" class="techoutside" data-pltdoc="x"><span class="techinside">coherent</span></a>, into a column.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._mondrian/main..rkt)._table-colwise-bind))"></a><span title="Provided from: mondrian | Package: mondrian"><span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._table-colwise-bind%29%29" class="RktValDef RktValLink" data-pltdoc="x">table-colwise-bind</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">cells</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._.Table~3f%29%29" class="RktValLink" data-pltdoc="x">Table?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">cells</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._.Table~3f%29%29" class="RktValLink" data-pltdoc="x">Table?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Combine the
tables in <span class="RktVar">cells</span>, which must be <a href="#%28tech._coherent%29" class="techoutside" data-pltdoc="x"><span class="techinside">coherent</span></a>, into a column.</div></p><h3 x-source-module="(lib &quot;mondrian/scribblings/mondrian.scrbl&quot;)" x-source-pkg="mondrian" x-part-tag="&quot;Formatting_tables&quot;">3<tt>&nbsp;</tt><a name="(part._.Formatting_tables)"></a>Formatting tables</h3><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._mondrian/main..rkt)._table-format))"></a><span title="Provided from: mondrian | Package: mondrian"><span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._table-format%29%29" class="RktValDef RktValLink" data-pltdoc="x">table-format</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">table</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.4" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">table</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._.Table~3f%29%29" class="RktValLink" data-pltdoc="x">Table?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Format <span class="RktVar">table</span> into a list of rows, where each row is a list of strings. Cells
which span multiple columns or rows may be padded (either horizontally or vertically)
or trimmed (horizontally only). Note that if some cells span columns, the row lists
may not all have the same length; likewise, if a cell spans rows, then that cell
may be present in multiple rows.</div></p><p>The outcome is that the lowest-level cells will have their natural sizes whereas
row and column &lsquo;headers&rsquo; will have their size adjusted to match.</p><p>The actual rules governing the final widths of each cell are as follows (the
rules governing the heights of columns are identical, <span style="font-style: italic">mutatis
mutandis</span>). The <span style="font-style: italic">natural width</span> of a cell is the length of its contents;
the <span style="font-style: italic">natural height</span> of a cell is always 1.</p><ol><li><p>If this is a leaf cell, then assign it its natural width.</p></li><li><p>Otherwise, if all cells below this (in the column hierarchy) have zero
width, then the cell has its natural width.</p></li><li><p>Otherwise, the cell has a width equal to the sum of its spanned columns.</p></li></ol><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._mondrian/main..rkt)._table-pretty-print))"></a><span title="Provided from: mondrian | Package: mondrian"><span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._table-pretty-print%29%29" class="RktValDef RktValLink" data-pltdoc="x">table-pretty-print</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">table</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:rule-maker</span><span class="hspace">&nbsp;</span><span class="RktVar">rule-maker</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.4" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">table</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._.Table~3f%29%29" class="RktValLink" data-pltdoc="x">Table?</a></span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;&nbsp;</span></td><td valign="top"><span class="RktVar">rule-maker</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">:</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><span class="nobreak">-&gt;</span></span></td></tr><tr><td><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.4/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-nonnegative-integer%7E3f%2529%2529&amp;version=8.4" class="RktValLink Sq" data-pltdoc="x">exact-nonnegative-integer?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.4/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-nonnegative-integer%7E3f%2529%2529&amp;version=8.4" class="RktValLink Sq" data-pltdoc="x">exact-nonnegative-integer?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.4/doc/local-redirect/index.html?doc=reference&amp;rel=characters.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._char%7E3f%2529%2529&amp;version=8.4" class="RktValLink Sq" data-pltdoc="x">char?</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">=</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">(</span><span class="RktSym">default-rule-maker</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Format <span class="RktVar">table</span> as a single string, including line breaks, with row and column &lsquo;rules.&rsquo;</div></p><p>Rules are characters which are inserted between columns and between rows. The
particular character that is inserted depends upon the &lsquo;depth&rsquo; of the rows or
columns to either side. The default rule-maker is equivalent to
<span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._make-standard-rule-maker%29%29" class="RktValLink" data-pltdoc="x">make-standard-rule-maker</a></span><span class="stt"> </span><span class="RktVal">"-"</span><span class="stt"> </span><span class="RktVal">"|"</span><span class="RktPn">)</span> and inserts &lsquo;<span class="stt">|</span>&rsquo; between the
columns and &lsquo;<span class="stt">-</span>&rsquo; between the rows; intersections use the &lsquo;highest-level&rsquo;
rule and ties are broken in favour of vertical rules.</p><p>Note that rules are not placed around the edges of the table by default. To have
outside rules, the table should have empty cells to the left and right, or top
and bottom.</p><p>In general, <span class="RktVar">rule-maker</span> should be a procedure that accepts two
non-negative integers, the row depth and the column depth, and returns either a
<span class="RktSym"><a href="https://download.racket-lang.org/releases/8.4/doc/local-redirect/index.html?doc=reference&amp;rel=characters.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._char%7E3f%2529%2529&amp;version=8.4" class="RktValLink Sq" data-pltdoc="x">char?</a></span> or <span class="RktVal">#f</span>. If the row depth (respectively, the column depth)
is <span class="RktVal">#f</span> then the procedure should return a vertical (respectively,
horizontal) separator. If both are non-false, then the procedure should return
an intersection character. The procedure may return <span class="RktVal">#f</span> in which case no
rule is inserted.</p><p>Internally, <span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._table-pretty-print%29%29" class="RktValLink" data-pltdoc="x">table-pretty-print</a></span> creates a new table by splicing in cells
containing the rules and then running the result through <span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._table-format%29%29" class="RktValLink" data-pltdoc="x">table-format</a></span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._mondrian/main..rkt)._make-standard-rule-maker))"></a><span title="Provided from: mondrian | Package: mondrian"><span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._make-standard-rule-maker%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-standard-rule-maker</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">hchars</span><span class="hspace">&nbsp;</span><span class="RktVar">vchars</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.4/doc/local-redirect/index.html?doc=reference&amp;rel=procedures.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._procedure%7E3f%2529%2529&amp;version=8.4" class="RktValLink Sq" data-pltdoc="x">procedure?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">hchars</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.4" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">vchars</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.4" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns a procedure suitable for passing to <span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._table-pretty-print%29%29" class="RktValLink" data-pltdoc="x">table-pretty-print</a></span> to
generate the appropriate column- and row-separators.</div></p><p><span class="RktVar">hchars</span> should be a string of characters, from &lsquo;highest&rsquo; to &lsquo;lowest&rsquo; in
the hierarchy of columns; likewise for <span class="RktVar">vchars</span>.</p><h3 x-source-module="(lib &quot;mondrian/scribblings/mondrian.scrbl&quot;)" x-source-pkg="mondrian" x-part-tag="&quot;Theory&quot;">4<tt>&nbsp;</tt><a name="(part._.Theory)"></a>Theory</h3><p>The kinds of tables that mondrian deals with are two-dimensional, rectangular
arrays of cells where certain cells might span more than one row or
column. However, not all such arrangements are allowed: the rows (or columns)
spanned must be &lsquo;consistent&rsquo; throughout the table. In effect, there is a tree
structure on both the rows and the columns which the cells must respect. We call
such a consistent structure a &lsquo;<a href="#%28tech._mondrian%29" class="techoutside" data-pltdoc="x"><span class="techinside">mondrian</span></a>.&rsquo;</p><p><div class="SIntrapara">For example, the following two rectangular arrangements are <span class="emph">not</span> legal
tables:
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">|-------+-------|</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">|-------+-------|</span></p></td></tr><tr><td><p><span class="stt">|</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">A</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">|</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">B</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">|</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">|</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">A</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">|</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">B</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">|</span></p></td></tr><tr><td><p><span class="stt">|</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">:---+---+---|</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">|---+---+---+---|</span></p></td></tr><tr><td><p><span class="stt">|</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">: b | c : d |</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">| a : b | c : d |</span></p></td></tr><tr><td><p><span class="stt">|---+---+---+---|</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">|---+---+---+---|</span></p></td></tr><tr><td><p><span class="stt">| e : f | g : h |</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">| e :</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">C</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">: h |</span></p></td></tr><tr><td><p><span class="stt">|---+---+---+---|</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">|---+---+---+---|</span></p></td></tr></table></div><div class="SIntrapara">The problem with the first one is that cell &lsquo;A&rsquo; is not rectangular; the
problem with the second is that the column structure is &lsquo;inconsistent&rsquo; so that
cell &lsquo;C&rsquo; overlaps cells &lsquo;A&rsquo; and &lsquo;B&rsquo;.</div></p><p><div class="SIntrapara">On the other hand, the following table is legal:
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">|---------+---------|</span></p></td></tr><tr><td><p><span class="stt">|</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">aA</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">|</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">bA</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">|</span></p></td></tr><tr><td><p><span class="stt">|----:----+----+----|</span></p></td></tr><tr><td><p><span class="stt">|</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: dC | eC : fC |</span></p></td></tr><tr><td><p><span class="stt">| cB +----+----+----|</span></p></td></tr><tr><td><p><span class="stt">|</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: dD | eD : fD |</span></p></td></tr><tr><td><p><span class="stt">|----+----+----+----|</span></p></td></tr></table></div></p><p><div class="SIntrapara">The columns have a hierarchical structure described by the tree:
</div><div class="SIntrapara"><blockquote class="SCentered"><p><img style="vertical-align: -0.0px; margin: -3px -3px -3px -3px;" src="pict.png" alt="image" width="146.0" height="106.0"/></p></blockquote></div></p><p><div class="SIntrapara">and the rows by the tree:
</div><div class="SIntrapara"><blockquote class="SCentered"><p><img style="vertical-align: -0.0px; margin: -3px -3px -3px -3px;" src="pict_2.png" alt="image" width="106.0" height="106.0"/></p></blockquote></div></p><p>Any legal cell in the table is identified by a pair consisting of a node of the
column structure and a node of the row structure. However, not every collection
of legal cells is a legal table: the cells must (a) not overlap; and (b) cover
the entire rectangular area.</p><p>Let <span class="math">R</span> and <span class="math">C</span> be finite trees (representing a row and column
structure respectively). For, say, <span class="math">r_1, r_2 \in R</span>, we write <span class="math">r_1 \leq r_2</span>
if <span class="math">r_1</span> is closer to the root of the tree than <span class="math">r_2</span>. Denote by <span class="math">R
\times_\leq C</span> the partial order on <span class="math">R\times C</span> given by the rule <span class="math">(r, c)
\leq (r&rsquo;, c&rsquo;)</span> if and only if <span class="math">r \leq r&rsquo;</span> and <span class="math">c \leq c&rsquo;</span>.</p><p>TODO: Fix the following, which is wrong.</p><p>A <a name="(tech._mondrian)"></a><span style="font-style: italic">mondrian</span> is a maximal antichain in <span class="math">R \times_\leq C</span>. That is, a
mondrian is a subset, <span class="math">M\subset R\times_\leq C</span>, such that:</p><ol><li><p>No two elements of <span class="math">M</span> are comparable; and</p></li><li><p>Any other <span class="math">c\in R\times_\leq C</span> is comparable to some element of
<span class="math">M</span>.</p></li></ol><p>The first condition ensures that no two cells overlap; the second ensures that,
taken together, the cells cover the entire table.</p><p>The functions <span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._table-row%29%29" class="RktValLink" data-pltdoc="x">table-row</a></span>, <span class="RktSym"><a href="#%28def._%28%28lib._mondrian%2Fmain..rkt%29._table-col%29%29" class="RktValLink" data-pltdoc="x">table-col</a></span>, and so on create new
tables by joining existing tables, either side-by-side or top-to-bottom. Two
tables joined in this way must have a consistent row- or column-structure. The
tables are said to be row-wise (or column-wise) <a name="(tech._coherent)"></a><span style="font-style: italic">coherent</span> if one of
their row (or column) structures is a prefix of the other. In this case,
mondrian extends the smaller tree from the leaves.</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.4&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.4&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.4&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>